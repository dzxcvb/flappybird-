{"version":3,"sources":["assets/scripts/pipecontrol.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAyC,+BAAY;IAArD;QAAA,qEA6CC;QA1CG,WAAK,GAAU,GAAG,CAAA;QAElB,WAAK,GAAU,GAAG,CAAA;QAElB,UAAI,GAAa,IAAI,CAAA;QAErB,UAAI,GAAa,IAAI,CAAA;;IAoCzB,CAAC;IAjCG,wBAAwB;IAExB,eAAe;IACf,0BAAI,GAAJ,UAAK,CAAC,EAAC,CAAC;QACJ,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,CAAC,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,CAAA;IAC/C,CAAC;IACD,2BAAK,GAAL;QAAA,iBAgBC;QAfG,IAAG,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC;gBACV,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,CAAA;gBAChC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAA;gBACtC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAA;gBAClC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAA;YACnB,CAAC,EAAC,CAAC,CAAC,CAAA;YAEJ,IAAI,CAAC,QAAQ,CAAC;gBACV,IAAI,IAAI,GAAG,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,CAAA;gBACpC,IAAI,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAA;gBACtC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAA;gBAClC,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAA;YACtC,CAAC,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAA;SAChB;IACL,CAAC;IAED,4BAAM,GAAN,UAAQ,EAAE;QACN,KAAgB,UAAkB,EAAlB,KAAA,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAlB,cAAkB,EAAlB,IAAkB,EAAC;YAA/B,IAAI,IAAI,SAAA;YACR,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE,CAAA;YACzB,IAAG,IAAI,CAAC,CAAC,IAAI,CAAC,EAAE,EAAC;gBACb,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,GAAG,CAAC,CAAA;gBACvB,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,GAAG,GAAG,CAAA;aACrC;SACJ;IACL,CAAC;IAzCD;QADC,QAAQ,CAAC,MAAM,CAAC;8CACC;IAElB;QADC,QAAQ,CAAC,MAAM,CAAC;8CACC;IAElB;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;6CACC;IAErB;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;6CACC;IATJ,WAAW;QAD/B,OAAO;OACa,WAAW,CA6C/B;IAAD,kBAAC;CA7CD,AA6CC,CA7CwC,EAAE,CAAC,SAAS,GA6CpD;kBA7CoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["const {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class PipeControl extends cc.Component {\n\n    @property(Number)\n    speed:number = 200\n    @property(Number)\n    width:number = 288\n    @property(cc.Prefab)\n    tank:cc.Prefab = null\n    @property(cc.Prefab)\n    heli:cc.Prefab = null\n\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {}\n    rand(m,n){\n        return Math.ceil(Math.random()*(n-m+1)+m-1)\n    }\n    start () {\n        if(!window['global'].isDead){\n        this.schedule(()=>{\n            let tank = cc.instantiate(this.tank)\n                tank.setParent(cc.director.getScene())\n                tank.x = 288 + Math.random() * 144\n                tank.y = 65\n        },2)\n\n        this.schedule(()=>{\n            let heli = cc.instantiate(this.heli)\n            heli.setParent(cc.director.getScene())\n            heli.x = 288 + Math.random() * 144\n            heli.y = 256 + Math.random() * 240\n        },this.rand(3,5))\n        }\n    }\n\n    update (dt) {\n        for(let pipe of this.node.children){\n            pipe.x -= this.speed * dt\n            if(pipe.x <= -50){\n                pipe.x = this.width * 2\n                pipe.y = Math.random() * 150 + 450\n            }\n        }\n    }\n}\n"]}