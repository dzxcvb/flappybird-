{"version":3,"sources":["assets/scripts/tankcontrol.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAEM,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAG1C;IAAyC,+BAAY;IAArD;QAAA,qEAsCC;QApCG,WAAK,GAAU,GAAG,CAAA;QAElB,YAAM,GAAa,IAAI,CAAA;QAEvB,UAAI,GAAG,IAAI,CAAA;;IAgCf,CAAC;IA9BG,wBAAwB;IAExB,eAAe;IAEf,2BAAK,GAAL;IAEA,CAAC;IAED,0BAAI,GAAJ,UAAK,CAAC,EAAC,CAAC;QACJ,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,GAAC,CAAC,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,GAAC,CAAC,GAAC,CAAC,CAAC,CAAA;IAC/C,CAAC;IAED,4BAAM,GAAN,UAAQ,EAAE;QAAV,iBAiBC;QAhBG,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,KAAK,GAAG,EAAE,CAAA;QAC9B,IAAG,IAAI,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,EAAE,EAAC;YACjB,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAA;SACtB;QACD,IAAG,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAC,GAAG,CAAC,CAAC,EAAC;YAChD,UAAU,CAAC;gBACP,IAAI,MAAM,GAAG,EAAE,CAAC,WAAW,CAAC,KAAI,CAAC,MAAM,CAAC,CAAA;gBACxC,MAAM,CAAC,SAAS,CAAC,EAAE,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC,CAAA;gBACxC,MAAM,CAAC,CAAC,GAAG,KAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAA;gBAC3B,MAAM,CAAC,CAAC,GAAG,KAAI,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAA;gBAC3B,EAAE,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,EAAC,EAAE,CAAC,SAAS,EAAC,UAAC,GAAG,EAAC,IAAI;oBAC3C,EAAE,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,EAAC,KAAK,CAAC,CAAA;gBACzC,CAAC,CAAC,CAAA;gBACF,KAAI,CAAC,IAAI,GAAG,KAAK,CAAA;YACrB,CAAC,EAAE,CAAC,CAAC,CAAC;SACT;IACL,CAAC;IAnCD;QADC,QAAQ,CAAC,MAAM,CAAC;8CACC;IAElB;QADC,QAAQ,CAAC,EAAE,CAAC,MAAM,CAAC;+CACG;IAJN,WAAW;QAD/B,OAAO;OACa,WAAW,CAsC/B;IAAD,kBAAC;CAtCD,AAsCC,CAtCwC,EAAE,CAAC,SAAS,GAsCpD;kBAtCoB,WAAW","file":"","sourceRoot":"/","sourcesContent":["import BulletControl from \"./bulletcontrol\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class TankControl extends cc.Component {\n    @property(Number)\n    speed:number = 500\n    @property(cc.Prefab)\n    bullet:cc.Prefab = null\n\n    fire = true\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {}\n\n    start () {\n\n    }\n\n    rand(m,n){\n        return Math.ceil(Math.random()*(n-m+1)+m-1)\n    }\n\n    update (dt) {\n        this.node.x -= this.speed * dt\n        if(this.node.x < -50){\n            this.node.destroy()\n        }\n        if(this.fire && (this.node.x <= this.rand(144,288))){\n            setTimeout(() => {\n                let bullet = cc.instantiate(this.bullet)\n                bullet.setParent(cc.director.getScene())\n                bullet.x = this.node.x - 15\n                bullet.y = this.node.y + 10\n                cc.loader.loadRes('fire',cc.AudioClip,(err,clip)=>{\n                    cc.audioEngine.playEffect(clip,false)\n                })\n                this.fire = false\n            }, 1);\n        }\n    }\n}\n"]}